{"version":3,"sources":["src/source/helper/function.helper.js","src/source/index.js"],"names":["changeState","elem","removedClass","addedClass","classList","remove","add","formatNumber","number","res","Math","round","matchName","selected","debounce","func","wait","timeout","args","clearTimeout","setTimeout","formCover","document","querySelector","formSignIn","formSignUp","SignUpLink","signInLink","regLogin","regPassword","regBtn","SignInBtn","SignInLogin","SignInPassword","changeCoverPosition","contains","addEventListener","e","preventDefault","storage","window","localStorage","storedUsers","JSON","parse","getItem","users","value","trim","Error","length","login","password","setItem","stringify","confirm","focus","err","alert","message","location","pathname"],"mappings":"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","file":"source.486ba228.js","sourceRoot":"..","sourcesContent":["/**\r\n *\r\n * @param {HTMLElement} elem\r\n * @param {String} removedClass  a class that is going to be removed\r\n * @param {string} addedClass a class that is going to be added\r\n * @returns {void}\r\n * @example\r\n *  changeState(navToggler, 'nav__toggler--close', 'nav__toggler--open');\r\n */\r\n\r\nexport function changeState(elem, removedClass, addedClass) {\r\n\telem.classList.remove(removedClass);\r\n\telem.classList.add(addedClass);\r\n}\r\n\r\n/**\r\n * this function is dedicated to format large numbers related to country's area and population\r\n * @param {number} number take a number\r\n * @returns {string} that instead of zeros will display million or thousand\r\n */\r\nexport function formatNumber(number) {\r\n\tlet res = null;\r\n\tif (number > 1000000000) {\r\n\t\tres = `more than ${Math.round(number / 1000000000)} billion`;\r\n\t} else if (number > 1000000) {\r\n\t\tres = `${Math.round(number / 1000000)} million`;\r\n\t} else {\r\n\t\tlet num = Math.round(number / 1000);\r\n\t\tif (num <= 1000) {\r\n\t\t\tres = 'about one thousand';\r\n\t\t}\r\n\t\tres = `${Math.round(number / 1000)} thousand`;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n/**\r\n * takes the country's name from the map, turns it into a proper name for searching\r\n * @param {string} selected\r\n * @returns {string} which corresponds to the API requirements\r\n */\r\nexport function matchName(selected) {\r\n\tlet res = '';\r\n\tif (selected === 'dem. rep. congo') {\r\n\t\tres = 'DR Congo';\r\n\t} else if (selected === 'central african rep.') {\r\n\t\tres = 'Central African Republic';\r\n\t} else if (selected === 'czechia') {\r\n\t\tres = 'Czech Republic';\r\n\t} else {\r\n\t\tres = selected;\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\n/**\r\n *\r\n * @param {function} func takes the function that should to be delayed\r\n * @param {number} wait amount of delay time\r\n * @returns {function} which takes arguments from cb function and will implement it inside\r\n */\r\n\r\nexport function debounce(func, wait) {\r\n\tlet timeout;\r\n\r\n\treturn function executedFunction(...args) {\r\n\t\tconst later = () => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tfunc(...args);\r\n\t\t};\r\n\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t};\r\n}\r\n","import { changeState } from './helper/function.helper';\r\n\r\nconst formCover = document.querySelector('.forms__overlap');\r\nconst formSignIn = document.querySelector('.form__signIn');\r\nconst formSignUp = document.querySelector('.form__signUp');\r\n\r\nconst SignUpLink = document.querySelector('.signUp-link');\r\nconst signInLink = document.querySelector('.signIn-link');\r\n\r\nconst regLogin = document.querySelector('#signUp-login');\r\nconst regPassword = document.querySelector('#signUp-password');\r\nconst regBtn = document.querySelector('#SignUp-submit');\r\n\r\nconst SignInBtn = document.querySelector('#SignIn-submit');\r\nconst SignInLogin = document.querySelector('#SignIn-login');\r\nconst SignInPassword = document.querySelector('#SignIn-password');\r\n\r\nfunction changeCoverPosition() {\r\n\tif (formCover.classList.contains('forms__overlap--left')) {\r\n\t\tchangeState(formCover, 'forms__overlap--left', 'forms__overlap--right');\r\n\t} else {\r\n\t\tchangeState(formCover, 'forms__overlap--right', 'forms__overlap--left');\r\n\t}\r\n}\r\n\r\n/* SECTION form overlapping */\r\nformCover.addEventListener('click', () => {\r\n\tchangeCoverPosition();\r\n});\r\n\r\n/* SECTION switching between 2 forms in  mobile version  */\r\nsignInLink.addEventListener('click', () => {\r\n\tif (formSignIn.classList.contains('form__display')) {\r\n\t\tchangeState(formSignIn, 'form__display', 'form__hide');\r\n\t\tchangeState(formSignUp, 'form__hide', 'form__display');\r\n\t}\r\n});\r\n\r\nSignUpLink.addEventListener('click', () => {\r\n\tif (formSignUp.classList.contains('form__display')) {\r\n\t\tchangeState(formSignUp, 'form__display', 'form__hide');\r\n\t\tchangeState(formSignIn, 'form__hide', 'form__display');\r\n\t}\r\n});\r\n\r\n/* SECTION  login password registration */\r\nregBtn.addEventListener('click', (e) => {\r\n\te.preventDefault();\r\n\tconst storage = window.localStorage;\r\n\tconst storedUsers = JSON.parse(storage.getItem('users'));\r\n\ttry {\r\n\t\tconst users = {};\r\n\t\tif (regLogin.value.trim() === '') {\r\n\t\t\tthrow new Error('Your Login should not be empty');\r\n\t\t} else if (regLogin.value.trim().length < 5) {\r\n\t\t\tthrow new Error('Your Login should not be less than 5 characters');\r\n\t\t} else if (storedUsers[regLogin.value.trim()]) {\r\n\t\t\tthrow new Error('this name is already in use');\r\n\t\t} else if (regPassword.value.trim().length < 5) {\r\n\t\t\tthrow new Error('Your password should not be less than 5 characters');\r\n\t\t} else {\r\n\t\t\tconst login = regLogin.value.trim();\r\n\t\t\tconst password = regPassword.value;\r\n\t\t\tusers[login] = password;\r\n\t\t\tlocalStorage.setItem('users', JSON.stringify(users));\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\tconst registered = confirm(\r\n\t\t\t'well done! Now please go to sign in to enter your account'\r\n\t\t);\r\n\t\tif (registered && formSignUp.classList.contains('form__display')) {\r\n\t\t\tchangeState(formSignUp, 'form__display', 'form__hide');\r\n\t\t\tchangeState(formSignIn, 'form__hide', 'form__display');\r\n\t\t}\r\n\t\tchangeCoverPosition();\r\n\t\tSignInLogin.focus();\r\n\t\tregLogin.value = '';\r\n\t\tregPassword.value = '';\r\n\t} catch (err) {\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\talert(err.message);\r\n\t}\r\n});\r\n\r\n/* SECTION  login */\r\nSignInBtn.addEventListener('click', (e) => {\r\n\te.preventDefault();\r\n\tconst users = JSON.parse(localStorage.getItem('users'));\r\n\tconst login = SignInLogin.value.trim();\r\n\tconst password = SignInPassword.value;\r\n\r\n\ttry {\r\n\t\tif (login.trim() === '' || password.trim() === '') {\r\n\t\t\tthrow new Error('please fill in the inputs!');\r\n\t\t} else {\r\n\t\t\tif (!users) {\r\n\t\t\t\tchangeCoverPosition();\r\n\t\t\t\tregLogin.focus();\r\n\t\t\t\tSignInLogin.value = '';\r\n\t\t\t\tSignInPassword.value = '';\r\n\t\t\t\tthrow new Error('there is no user with this name and password');\r\n\t\t\t}\r\n\t\t\tif (!users[login]) {\r\n\t\t\t\tchangeCoverPosition();\r\n\t\t\t\tregLogin.focus();\r\n\t\t\t\tSignInLogin.value = '';\r\n\t\t\t\tSignInPassword.value = '';\r\n\t\t\t\tthrow new Error('there is no user with this name');\r\n\t\t\t}\r\n\t\t\tif (users[login] !== password) {\r\n\t\t\t\tthrow new Error('Your Password was incorrect');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (users[login] && users[login] === password) {\r\n\t\t\twindow.location.pathname = './src/pages/countries.html';\r\n\t\t}\r\n\t} catch (err) {\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\talert(err.message);\r\n\t}\r\n});\r\n"]}
{"version":3,"sources":["source/constants/constants.js","source/helper/function.helper.js","source/index.js"],"names":["menuState","toggle","close","open","navList","display","hide","themeState","theme","light","dark","slider","logo","MAP_URL","REST_URL","byName","all","byCode","state","favCountries","JSON","parse","window","localStorage","getItem","countryNav","table","map","countryCode","changeState","elem","removedClass","addedClass","classList","remove","add","navToggle","navToggler","contains","formatNumber","number","res","Math","round","matchName","selected","debounce","func","wait","timeout","args","clearTimeout","setTimeout","formCover","document","querySelector","formSignIn","formSignUp","SignUpLink","signInLink","regLogin","regPassword","regBtn","SignInBtn","SignInLogin","SignInPassword","changeCoverPosition","addEventListener","e","preventDefault","storage","storedUsers","users","value","trim","Error","length","login","password","setItem","stringify","confirm","focus","err","alert","message","location","href"],"mappings":"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","file":"source.45d4c44c.js","sourceRoot":"../src","sourcesContent":["export const menuState = {\r\n\ttoggle: {\r\n\t\tclose: 'nav__toggler--close',\r\n\t\topen: 'nav__toggler--open',\r\n\t},\r\n\r\n\tnavList: {\r\n\t\tdisplay: 'nav__list-container--display',\r\n\t\thide: 'nav__list-container--hide',\r\n\t},\r\n};\r\n\r\nexport const themeState = {\r\n\ttheme: {\r\n\t\tlight: 'nav__theme--light',\r\n\t\tdark: 'nav__theme--dark',\r\n\t},\r\n\r\n\tslider: {\r\n\t\tlight: 'nav__theme-slider--light',\r\n\t\tdark: 'nav__theme-slider--dark',\r\n\t},\r\n\r\n\tlogo: {\r\n\t\tlight: 'nav__logo--light',\r\n\t\tdark: 'nav__logo--dark',\r\n\t},\r\n};\r\n\r\nexport const MAP_URL =\r\n\t'https://unpkg.com/world-atlas@2.0.2/countries-110m.json';\r\n\r\nexport const REST_URL = {\r\n\tbyName: 'https://restcountries.eu/rest/v2/name/',\r\n\tall: 'https://restcountries.eu/rest/v2/all',\r\n\tbyCode: 'https://restcountries.eu/rest/v2/alpha?codes=',\r\n};\r\n\r\nexport const state = {\r\n\tfavCountries: JSON.parse(window.localStorage.getItem('favorites')) || [],\r\n\tcountryNav: JSON.parse(window.localStorage.getItem('countryNav')) || {\r\n\t\ttable: false,\r\n\t\tmap: true,\r\n\t},\r\n\tcountryCode: {},\r\n};\r\n","import { menuState } from '../constants/constants';\r\n\r\n/**\r\n *\r\n * @param {HTMLElement} elem\r\n * @param {String} removedClass  a class that is going to be removed\r\n * @param {string} addedClass a class that is going to be added\r\n * @returns {void}\r\n * @example\r\n *  changeState(navToggler, 'nav__toggler--close', 'nav__toggler--open');\r\n */\r\n\r\nexport function changeState(elem, removedClass, addedClass) {\r\n\telem.classList.remove(removedClass);\r\n\telem.classList.add(addedClass);\r\n}\r\n\r\n/**\r\n * @description changes the state of the navigation lists from displayed to hide and vice versa\r\n * @param {HTMLElement} navToggler a button that is responsible for displaying of hiding nav list\r\n * @param {HTMLElement} navList a list of navigation HTMLElements\r\n * @returns {void}\r\n * @example\r\n * navToggler.addEventListener('click', navToggle.bind(null, navToggler, navList));\r\n */\r\nexport function navToggle(navToggler, navList) {\r\n\tif (navToggler.classList.contains('nav__toggler--close')) {\r\n\t\tchangeState(navToggler, menuState.toggle.close, menuState.toggle.open);\r\n\t\tchangeState(navList, menuState.navList.display, menuState.navList.hide);\r\n\t} else {\r\n\t\tchangeState(navToggler, menuState.toggle.open, menuState.toggle.close);\r\n\t\tchangeState(navList, menuState.navList.hide, menuState.navList.display);\r\n\t}\r\n}\r\n\r\n/**\r\n * this function is dedicated to format large numbers related to country's area and population\r\n * @param {number} number take a number\r\n * @returns {string} that instead of zeros will display million or thousand\r\n * @example\r\n * formatNumber(country.details.population)\r\n */\r\nexport function formatNumber(number) {\r\n\tlet res = null;\r\n\tif (number > 1000000000) {\r\n\t\tres = `more than ${Math.round(number / 1000000000)} billion`;\r\n\t} else if (number > 1000000) {\r\n\t\tres = `${Math.round(number / 1000000)} million`;\r\n\t} else {\r\n\t\tconst num = Math.round(number / 1000);\r\n\t\tif (num <= 1000) {\r\n\t\t\tres = 'about one thousand';\r\n\t\t}\r\n\t\tres = `${Math.round(number / 1000)} thousand`;\r\n\t}\r\n\treturn res;\r\n}\r\n\r\n/**\r\n * takes the country's name from the map, turns it into a proper name for searching\r\n * @param {string} selected\r\n * @returns {string} which corresponds to the API requirements\r\n * @example\r\n * let selected = d.properties.name.toLowerCase();\r\n\t\tselected = matchName(selected);\r\n */\r\nexport function matchName(selected) {\r\n\tlet res = '';\r\n\tif (selected === 'dem. rep. congo') {\r\n\t\tres = 'DR Congo';\r\n\t} else if (selected === 'central african rep.') {\r\n\t\tres = 'Central African Republic';\r\n\t} else if (selected === 'czechia') {\r\n\t\tres = 'Czech Republic';\r\n\t} else {\r\n\t\tres = selected;\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\n/**\r\n *\r\n * @param {function} func takes the function that should to be delayed\r\n * @param {number} wait amount of delay time\r\n * @returns {function} which takes arguments from cb function and will implement it inside\r\n * @example\r\n * const search = debounce(renderTable, 700);\r\n * searchInput.addEventListener('input', search);\r\n */\r\n\r\nexport function debounce(func, wait) {\r\n\tlet timeout;\r\n\r\n\treturn function executedFunction(...args) {\r\n\t\tconst later = () => {\r\n\t\t\tclearTimeout(timeout);\r\n\t\t\tfunc(...args);\r\n\t\t};\r\n\r\n\t\tclearTimeout(timeout);\r\n\t\ttimeout = setTimeout(later, wait);\r\n\t};\r\n}\r\n","import { changeState } from './helper/function.helper';\r\n\r\nconst formCover = document.querySelector('.forms__overlap');\r\nconst formSignIn = document.querySelector('.form__signIn');\r\nconst formSignUp = document.querySelector('.form__signUp');\r\n\r\nconst SignUpLink = document.querySelector('.signUp-link');\r\nconst signInLink = document.querySelector('.signIn-link');\r\n\r\nconst regLogin = document.querySelector('#signUp-login');\r\nconst regPassword = document.querySelector('#signUp-password');\r\nconst regBtn = document.querySelector('#SignUp-submit');\r\n\r\nconst SignInBtn = document.querySelector('#SignIn-submit');\r\nconst SignInLogin = document.querySelector('#SignIn-login');\r\nconst SignInPassword = document.querySelector('#SignIn-password');\r\n\r\nfunction changeCoverPosition() {\r\n\tif (formCover.classList.contains('forms__overlap--left')) {\r\n\t\tchangeState(formCover, 'forms__overlap--left', 'forms__overlap--right');\r\n\t} else {\r\n\t\tchangeState(formCover, 'forms__overlap--right', 'forms__overlap--left');\r\n\t}\r\n}\r\n\r\n/* SECTION form overlapping */\r\nformCover.addEventListener('click', () => {\r\n\tchangeCoverPosition();\r\n});\r\n\r\n/* SECTION switching between 2 forms in  mobile version  */\r\nsignInLink.addEventListener('click', () => {\r\n\tif (formSignIn.classList.contains('form__display')) {\r\n\t\tchangeState(formSignIn, 'form__display', 'form__hide');\r\n\t\tchangeState(formSignUp, 'form__hide', 'form__display');\r\n\t}\r\n});\r\n\r\nSignUpLink.addEventListener('click', () => {\r\n\tif (formSignUp.classList.contains('form__display')) {\r\n\t\tchangeState(formSignUp, 'form__display', 'form__hide');\r\n\t\tchangeState(formSignIn, 'form__hide', 'form__display');\r\n\t}\r\n});\r\n\r\n/* SECTION  login password registration */\r\nregBtn.addEventListener('click', (e) => {\r\n\te.preventDefault();\r\n\r\n\ttry {\r\n\t\tconst storage = window.localStorage;\r\n\t\tconst storedUsers = JSON.parse(storage.getItem('users'));\r\n\t\tconst users = {};\r\n\r\n\t\tif (regLogin.value.trim() === '') {\r\n\t\t\tthrow new Error('Your Login should not be empty');\r\n\t\t} else if (regLogin.value.trim().length < 5) {\r\n\t\t\tthrow new Error('Your Login should not be less than 5 characters');\r\n\t\t} else if (storedUsers && storedUsers[regLogin.value.trim()]) {\r\n\t\t\tthrow new Error('this name is already in use');\r\n\t\t} else if (regPassword.value.trim().length < 5) {\r\n\t\t\tthrow new Error('Your password should not be less than 5 characters');\r\n\t\t} else {\r\n\t\t\tconst login = regLogin.value.trim();\r\n\t\t\tconst password = regPassword.value;\r\n\t\t\tusers[login] = password;\r\n\t\t\tlocalStorage.setItem('users', JSON.stringify(users));\r\n\t\t}\r\n\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\tconst registered = confirm(\r\n\t\t\t'well done! Now please go to sign in to enter your account'\r\n\t\t);\r\n\t\tif (registered && formSignUp.classList.contains('form__display')) {\r\n\t\t\tchangeState(formSignUp, 'form__display', 'form__hide');\r\n\t\t\tchangeState(formSignIn, 'form__hide', 'form__display');\r\n\t\t}\r\n\t\tchangeCoverPosition();\r\n\t\tSignInLogin.focus();\r\n\t\tregLogin.value = '';\r\n\t\tregPassword.value = '';\r\n\t} catch (err) {\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\talert(err.message);\r\n\t}\r\n});\r\n\r\n/* SECTION  login */\r\nSignInBtn.addEventListener('click', (e) => {\r\n\te.preventDefault();\r\n\tconst users = JSON.parse(localStorage.getItem('users'));\r\n\tconst login = SignInLogin.value.trim();\r\n\tconst password = SignInPassword.value;\r\n\r\n\ttry {\r\n\t\tif (login.trim() === '' || password.trim() === '') {\r\n\t\t\tthrow new Error('please fill in the inputs!');\r\n\t\t} else {\r\n\t\t\tif (!users) {\r\n\t\t\t\tchangeCoverPosition();\r\n\t\t\t\tregLogin.focus();\r\n\t\t\t\tSignInLogin.value = '';\r\n\t\t\t\tSignInPassword.value = '';\r\n\t\t\t\tthrow new Error('there is no user with this name and password');\r\n\t\t\t}\r\n\t\t\tif (!users[login]) {\r\n\t\t\t\tchangeCoverPosition();\r\n\t\t\t\tregLogin.focus();\r\n\t\t\t\tSignInLogin.value = '';\r\n\t\t\t\tSignInPassword.value = '';\r\n\t\t\t\tthrow new Error('there is no user with this name');\r\n\t\t\t}\r\n\t\t\tif (users[login] !== password) {\r\n\t\t\t\tthrow new Error('Your Password was incorrect');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (users[login] && users[login] === password) {\r\n\t\t\twindow.location.href = 'pages/countries.html';\r\n\t\t}\r\n\t} catch (err) {\r\n\t\t// eslint-disable-next-line no-alert\r\n\t\talert(err.message);\r\n\t}\r\n});\r\n"]}